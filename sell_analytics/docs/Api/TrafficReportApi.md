# Nopolabs\EBay\Sell\Analytics\TrafficReportApi

All URIs are relative to *https://api.ebay.com/sell/analytics/v1*

Method | HTTP request | Description
------------- | ------------- | -------------
[**getTrafficReport**](TrafficReportApi.md#getTrafficReport) | **GET** /traffic_report | 


# **getTrafficReport**
> \Nopolabs\EBay\Sell\Analytics\Model\Report getTrafficReport($dimension, $filter, $metric, $sort)



This call returns a report that details the user-traffic a seller's listings receives. This gives sellers the ability to see such things as how often their listing appeared on eBay, how many times the listings are viewed, and how many purchases were made. In addition to the information requested, the traffic report contains general information about the criteria eBay used to generate the report (such as the report's start and end dates and the basis of the report). In the report itself, the metrics.key field shows the metric being returned, with each records container holding the dimension and metric values for each of the metrics in the report. You can generate two types of traffic reports; one based on days and another based on listings. Generating a report based on days For this report, you set dimension to day, specify the marketplace_ids and the date_range filters and specify the metrics (metric) you want returned. The following is an example of a request based on days. &nbsp;&nbsp;&nbsp;dimension=DAY&amp; &nbsp;&nbsp;&nbsp;filter=marketplace_ids:%7BEBAY_US%7D,date_range:%5B20160814..20160824%5D&amp; &nbsp;&nbsp;&nbsp;metric=LISTING_IMPRESSION_SEARCH_RESULTS_PAGE,LISTING_IMPRESSION_STORE Note: The specified dimension value is returned in the dimensionKeys.key field of the response. Generating a report based on listings and sorting by a metric For this report, you set dimension to LISTING, the filter, the date_range, specify the metrics (metric) you want returned, and a metric you want sorted (sort). The following is an example of a request based on listing IDs with a sorted metric. &nbsp;&nbsp;&nbsp;dimension=LISTING&amp; &nbsp;&nbsp;&nbsp;filter=listing_ids:%7B132213131|124232324|123141151%7D,date_range:%5B20160814..20160824%5D&amp; &nbsp;&nbsp;&nbsp;metric=LISTING_IMPRESSION_SEARCH_RESULTS_PAGE,LISTING_IMPRESSION_STORE,LISTING_IMPRESSION_TOTAL&amp; &nbsp;&nbsp;&nbsp;sort=LISTING_IMPRESSION_TOTAL Note: The specified dimension value is returned in the dimensionKeys.key field of the response. Things to note when using this call: Special characters used for lists ({}) and ranges ([]) must be encoded (see the call examples). You can specify only one metric in the sort field and that metric must be included in the metric field. Parameter names are case sensitive but metric names are not. For example, the following are correct: &nbsp;&nbsp;&nbsp;sort=LISTING_IMPRESSION_TOTAL &nbsp;&nbsp;&nbsp;sort=lisitng_impression_total &nbsp;&nbsp;&nbsp;metric=lisitng_impression_total But these are incorrect: &nbsp;&nbsp;&nbsp;SORT=LISTING_IMPRESSION_TOTAL &nbsp;&nbsp;&nbsp;SORT=lisitng_impression_total &nbsp;&nbsp;&nbsp;METRIC=lisitng_impression_total

### Example
```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');

// Configure OAuth2 access token for authorization: Authorization Code
$config = Nopolabs\EBay\Sell\Analytics\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');

$apiInstance = new Nopolabs\EBay\Sell\Analytics\Api\TrafficReportApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$dimension = "dimension_example"; // string | Specifies the basis of the report data. For example: If you specify dimension=day and metric=CLICK_THROUGH_RATE, the traffic report would contain the number of times a buyer saw a listing impression and then clicked through to the listing page for each day in the date range. If you specify dimension=listing and metric=LISTING_IMPRESSION_STORE, the traffic report would contain the number of times that listing appeared on the seller's store. Valid values: &nbsp;&nbsp;DAY &nbsp;&nbsp;LISTING Required: Always
$filter = "filter_example"; // string | Limits the report data returned. You can refine the report data returned using the date_range, listing_ids, and marketplace_ids filters. date_range This limits the report to a date range. You can get up a total of 90 days going back as far as 2 years, defined as 365 * 2 days. eBay returns an error (and not data) if you pass in a date range greater than 90 days, or the start date is after the latest date in which traffic data exists (known as the lastUpdatedDate). If the range is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate. Format: YYYYMMDD..YYYYMMDD Maximum range: 90 days Required: Always Note: In the request, the date range must be encoded. For example: %5B20160601..20160828%5D listing_ids This limits the results to a list of listing IDs separated by |. This is for active and sold listings in last 90 days and unsold listings in the last 30 days. Also all the listings must be the seller's listings and the items must on the specified marketplace. Maximum: 200 Default: 200 Note: In the request, the listing IDs must be encoded. For example: %5B12323232|12321313%5D marketplace_ids The eBay marketplace ID for which you want the report generated (the method currently supports only a single marketplace ID). Valid values: EBAY_AU EBAY_DE EBAY_GB EBAY_US EBAY_MOTORS_US Required if you set the dimension parameter to DAY. For implementation help, refer to eBay API documentation at https://developer.ebay.com/devzone/rest/api-ref/analytics/types/FilterField.html
$metric = "metric_example"; // string | Specifies a comma separated list of the metrics you want included in the report. Valid values: CLICK_THROUGH_RATE The number of times a buyer saw a listing impression and then clicked through to the listing page. Localized name: Click through rate LISTING_IMPRESSION_SEARCH_RESULTS_PAGE The number of times the seller's listings appeared on the search results page. However, the listing might not have been visible to the buyer because of its position on the page. Localized name: Listing impressions from the search results page LISTING_IMPRESSION_STORE The number of times the seller's listings appeared on the seller's store. However, the listing might not have been visible to the buyer because of its position on the page. Localized name: Listing impressions from your Store LISTING_IMPRESSION_TOTAL The total number of times the seller's listings appeared in the search results page or the seller's store. If the listing appeared in both places, it is counted each time. However, the listing might not have been visible to the buyer because of its position on the page. (LISTING_IMPRESSION_SEARCH_RESULTS_PAGE + LISTING_IMPRESSION_STORE) Localized name: Total listing impressions LISTING_VIEWS_SOURCE_DIRECT The number of times a seller's listing was viewed directly, such as when a buyer uses a bookmark. Localized name: Direct views LISTING_VIEWS_SOURCE_OFF_EBAY The number of times a seller's listing was viewed from a site other than eBay, such as when a buyer clicks on a link to the listing from a Google search page. Localized name: Off eBay views LISTING_VIEWS_SOURCE_OTHER_EBAY The number of times a seller's listing was viewed from an eBay page, other than the search results page or the seller's store. Localized name: Views from non-search and non-store pages within eBay LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE The number of times a seller's listing was viewed by clicking on a link that was on the search results page. Localized name: Views from the search results page LISTING_VIEWS_SOURCE_STORE The number of times a seller's listing was viewed by clicking on a link that was on the seller's store. Localized name: Views from your Store LISTING_VIEWS_TOTAL Total number of listings viewed. (LISTING_VIEWS_SOURCE_DIRECT + LISTING_VIEWS_SOURCE_OFF_EBAY + LISTING_VIEWS_SOURCE_OTHER_EBAY + LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE + LISTING_VIEWS_SOURCE_STORE) Localized name: Total views SALES_CONVERSION_RATE The number of transactions divided by the number of listings views. (TRANSACTION / LISTING_VIEWS_TOTAL) Localized name: Sales conversion rate TRANSACTION The number of transactions. Localized name: Transaction count Required: Always
$sort = "sort_example"; // string | Specifies a single metric to be sorted and whether you want to sort in ascending or descending order. Specifying a metric in this field, sorts that data in ascending order. To sort in descending order add - in front of the metric. This is helpful when the seller wants to see metrics starting with the greatest number, such as the CLICK_THROUGH_RATE (sort=-CLICK_THROUGH_RATE). Default: ascending If null: Sorts by the first metric specified in ascending order Maximum metric: 1 Valid Values: metric values For implementation help, refer to eBay API documentation at https://developer.ebay.com/devzone/rest/api-ref/analytics/types/SortField.html

try {
    $result = $apiInstance->getTrafficReport($dimension, $filter, $metric, $sort);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling TrafficReportApi->getTrafficReport: ', $e->getMessage(), PHP_EOL;
}
?>
```

### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **dimension** | **string**| Specifies the basis of the report data. For example: If you specify dimension&#x3D;day and metric&#x3D;CLICK_THROUGH_RATE, the traffic report would contain the number of times a buyer saw a listing impression and then clicked through to the listing page for each day in the date range. If you specify dimension&#x3D;listing and metric&#x3D;LISTING_IMPRESSION_STORE, the traffic report would contain the number of times that listing appeared on the seller&#39;s store. Valid values: &amp;nbsp;&amp;nbsp;DAY &amp;nbsp;&amp;nbsp;LISTING Required: Always | [optional]
 **filter** | **string**| Limits the report data returned. You can refine the report data returned using the date_range, listing_ids, and marketplace_ids filters. date_range This limits the report to a date range. You can get up a total of 90 days going back as far as 2 years, defined as 365 * 2 days. eBay returns an error (and not data) if you pass in a date range greater than 90 days, or the start date is after the latest date in which traffic data exists (known as the lastUpdatedDate). If the range is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate. Format: YYYYMMDD..YYYYMMDD Maximum range: 90 days Required: Always Note: In the request, the date range must be encoded. For example: %5B20160601..20160828%5D listing_ids This limits the results to a list of listing IDs separated by |. This is for active and sold listings in last 90 days and unsold listings in the last 30 days. Also all the listings must be the seller&#39;s listings and the items must on the specified marketplace. Maximum: 200 Default: 200 Note: In the request, the listing IDs must be encoded. For example: %5B12323232|12321313%5D marketplace_ids The eBay marketplace ID for which you want the report generated (the method currently supports only a single marketplace ID). Valid values: EBAY_AU EBAY_DE EBAY_GB EBAY_US EBAY_MOTORS_US Required if you set the dimension parameter to DAY. For implementation help, refer to eBay API documentation at https://developer.ebay.com/devzone/rest/api-ref/analytics/types/FilterField.html | [optional]
 **metric** | **string**| Specifies a comma separated list of the metrics you want included in the report. Valid values: CLICK_THROUGH_RATE The number of times a buyer saw a listing impression and then clicked through to the listing page. Localized name: Click through rate LISTING_IMPRESSION_SEARCH_RESULTS_PAGE The number of times the seller&#39;s listings appeared on the search results page. However, the listing might not have been visible to the buyer because of its position on the page. Localized name: Listing impressions from the search results page LISTING_IMPRESSION_STORE The number of times the seller&#39;s listings appeared on the seller&#39;s store. However, the listing might not have been visible to the buyer because of its position on the page. Localized name: Listing impressions from your Store LISTING_IMPRESSION_TOTAL The total number of times the seller&#39;s listings appeared in the search results page or the seller&#39;s store. If the listing appeared in both places, it is counted each time. However, the listing might not have been visible to the buyer because of its position on the page. (LISTING_IMPRESSION_SEARCH_RESULTS_PAGE + LISTING_IMPRESSION_STORE) Localized name: Total listing impressions LISTING_VIEWS_SOURCE_DIRECT The number of times a seller&#39;s listing was viewed directly, such as when a buyer uses a bookmark. Localized name: Direct views LISTING_VIEWS_SOURCE_OFF_EBAY The number of times a seller&#39;s listing was viewed from a site other than eBay, such as when a buyer clicks on a link to the listing from a Google search page. Localized name: Off eBay views LISTING_VIEWS_SOURCE_OTHER_EBAY The number of times a seller&#39;s listing was viewed from an eBay page, other than the search results page or the seller&#39;s store. Localized name: Views from non-search and non-store pages within eBay LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE The number of times a seller&#39;s listing was viewed by clicking on a link that was on the search results page. Localized name: Views from the search results page LISTING_VIEWS_SOURCE_STORE The number of times a seller&#39;s listing was viewed by clicking on a link that was on the seller&#39;s store. Localized name: Views from your Store LISTING_VIEWS_TOTAL Total number of listings viewed. (LISTING_VIEWS_SOURCE_DIRECT + LISTING_VIEWS_SOURCE_OFF_EBAY + LISTING_VIEWS_SOURCE_OTHER_EBAY + LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE + LISTING_VIEWS_SOURCE_STORE) Localized name: Total views SALES_CONVERSION_RATE The number of transactions divided by the number of listings views. (TRANSACTION / LISTING_VIEWS_TOTAL) Localized name: Sales conversion rate TRANSACTION The number of transactions. Localized name: Transaction count Required: Always | [optional]
 **sort** | **string**| Specifies a single metric to be sorted and whether you want to sort in ascending or descending order. Specifying a metric in this field, sorts that data in ascending order. To sort in descending order add - in front of the metric. This is helpful when the seller wants to see metrics starting with the greatest number, such as the CLICK_THROUGH_RATE (sort&#x3D;-CLICK_THROUGH_RATE). Default: ascending If null: Sorts by the first metric specified in ascending order Maximum metric: 1 Valid Values: metric values For implementation help, refer to eBay API documentation at https://developer.ebay.com/devzone/rest/api-ref/analytics/types/SortField.html | [optional]

### Return type

[**\Nopolabs\EBay\Sell\Analytics\Model\Report**](../Model/Report.md)

### Authorization

[Authorization Code](../../README.md#Authorization Code)

### HTTP request headers

 - **Content-Type**: application/json
 - **Accept**: application/json

[[Back to top]](#) [[Back to API list]](../../README.md#documentation-for-api-endpoints) [[Back to Model list]](../../README.md#documentation-for-models) [[Back to README]](../../README.md)

